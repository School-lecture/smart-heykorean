<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="">
        <meta name="author" content="webthemez">
        <title>Hey♪korean</title>

{% block csslink %}
<link href="/assets/css/main.css" rel="stylesheet" type="text/css">
   <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
        <link rel="stylesheet" href="/assets/css/font-awesome.min.css">
        <link rel="stylesheet" href="/assets/css/animate.min.css">
        <link rel="stylesheet" href="/assets/css/prettyPhoto.css">
        <!-- Style -->
        <link rel="stylesheet" href="/assets/css/styles.css">
        <link rel="stylesheet" href="/assets/css/owl.carousel.min.css">

        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css?family=Roboto:300,400&display=swap">
        <link rel="stylesheet" href="fonts/icomoon/style.css">

        <!--[if lt IE 9]> <script src="/assets/js/html5shiv.js"></script> <script
        src="js/respond.min.js"></script> <![endif]-->
        <link rel="shortcut icon" href="images/ico/favicon.ico">
{% endblock %}
		  <style>
            #my_modal {
                display: none;
                width: 800px;
                height: 300px;
                padding: 20px;
                background-color: #fefefe;
                border: 1px solid #888;
                border-radius: 10px;
            }

            #my_modal .modal_close_btn {
                position: absolute;
                top: 10px;
                right: 10px;
            }
        </style>
    </head>
<header id="header">
        <nav id="main-nav" class="navbar navbar-default navbar-fixed-top" role="banner">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand" href="/"><img src="/assets/images/logo.png" alt="logo"></a>
                </div>
                <div class="collapse navbar-collapse navbar-right">
                    <ul class="nav navbar-nav">

                        {% if request.session.authUser is None %}
                        <li><a href="/user/joinform">회원가입</a></li>
                        <li><a href="/user/loginform">로그인</a></li>
                        {% else %}
                        <li><a href="#">마이페이지</a></li>
                        <li><a href="/user/updateform">회원정보수정</a><li>
                        <li><a href="/user/logout">로그아웃</a><li>
                        <li><a>{{request.session.authUser.name}}님  </a></li>
                        {% endif %}
                    </ul>
                </div>
            </div>
    </nav>
        <!--/nav-->
    </header>

{% block content %}
<body>
        <div class="wrapper">
            <section id="our-team">
                    <div class="section-header">
                        <h2 class="section-title wow fadeInDown">
                            노래를 선택하세요
                        </h2>

                        <div id="my_modal">
                            <table class="table custom-table">
                                <thead>
                                    <tr>
                                        <th scope="col"></th>
                                        <th scope="col"></th>
                                        <th scope="col">가수</th>
                                        <th scope="col">노래</th>
                                    </tr>
                                </thead>

                                <tbody>
                                    <tr scope="row">
                                        <th scope="row">
                                            <label class="control control--checkbox">
                                                <input type="checkbox" name="song" onclick='checkOnlyOne(this)'/>
                                                <div class="control__indicator"></div>
                                            </label>
                                        </th>
                                        <td>
                                            1
                                        </td>
                                        <td>
                                            James Yates
                                        </td>
                                        <td>
                                            Web Designer
                                            <small class="d-block">Far far away</small>
                                        </td>
                                    </tr>

                                    <tr class="spacer">
                                        <td colspan="100"></td>
                                    </tr>
                                    <tr class="active">
                                        <th scope="row">
                                            <label class="control control--checkbox">
                                                <input type="checkbox" name="song" onclick='checkOnlyOne(this)'/>
                                                <div class="control__indicator"></div>
                                            </label>
                                        </th>
                                        <td>2</td>
                                        <td>
                                            Matthew Wasil
                                        </td>
                                        <td>
                                            Graphic Designer
                                            <small class="d-block">Far far away</small>
                                        </td>

                                        <tr class="spacer">
                                            <td colspan="100"></td>
                                        </tr>
                                        <tr>
                                            <th scope="row">
                                                <label class="control control--checkbox">
                                                    <input type="checkbox" name="song" onclick='checkOnlyOne(this)'/>
                                                    <div class="control__indicator"></div>
                                                </label>
                                            </th>
                                            <td>3</td>
                                            <td>
                                                Sampson
                                            </td>
                                            <td>
                                                Mobile Dev
                                                <small class="d-block">Far far away, behind the word mountains</small>
                                            </td>
                                        </tr>
                                        <tr class="spacer">
                                            <td colspan="100"></td>
                                        </tr>
                                        <tr>
                                            <th scope="row">
                                                <label class="control control--checkbox">
                                                    <input type="checkbox" name="song" onclick='checkOnlyOne(this)'/>
                                                    <div class="control__indicator"></div>
                                                </label>
                                            </th>
                                            <td>3</td>
                                            <td>
                                                Murphy
                                            </td>
                                            <td>
                                                Mobile Dev
                                                <small class="d-block">Far far away, behind the word mountains</small>
                                            </td>
                                        </tr>
                                        <button><a href="#" >선택</a></button>
                                    </table>

                                    <a class="modal_close_btn">닫기</a>
                                </div>

                            </div>
                                <button id="popup_open_btn">노래선택</button>


                                <div class="container">
                                    <div class="image">
                                        <table text-align="center">
                                            <tr>
                                                <td>
                                                    <img src="/assets/images/IU.jpg" alt="선택한노래" width="300" height="300">
                                                </td>
                                                <td>
                                                    <button type="button">매칭</button>
                                                </td>
                                                <td>
                                                    <img src="/assets/images/ANN.jpg" alt="결과노래" width="300" height="300">
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    노래제목
                                                </td>
                                                <td></td>
                                                <td>
                                                    노래제목
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                    </div>

                        </section>
                        <section id="pricing">
                            <div class="container">
                                <div class="section-header">
                                    <h2 class="section-title wow fadeInDown">감정분석결과</h2>
                                </div>
                            </div>
                        </section>
                        <!--/#pricing-->
                    </div>

                    <footer id="footer">
                        <div class="container">
                            <div class="row">
                                <div class="col-sm-6">
                                    Hey♪korean
                                </div>
                            </div>
                        </div>
                    </footer>
                    <!--/#footer-->
\
                    <script>
                        function modal(id) {
                            var zIndex = 9999;
                            var modal = document.getElementById(id);

                            // 모달 div 뒤에 레이어
                            var bg = document.createElement('div');
                            bg.setStyle({
                                position: 'fixed',
                                zIndex: zIndex,
                                left: '0px',
                                top: '0px',
                                width: '100%',
                                height: '100%',
                                overflow: 'auto',
                                // 레이어 색은 여기서 바꾸면 됨
                                backgroundColor: 'rgba(0,0,0,0.4)'
                            });
                            document
                                .body
                                .append(bg);

                            // 닫기 버튼 처리, 레이어와 모달 div 지우기
                            modal
                                .querySelector('.modal_close_btn')
                                .addEventListener('click', function () {
                                    bg.remove();
                                    modal.style.display = 'none';
                                });

                            modal.setStyle({
                                position: 'fixed', display: 'block', boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',

                                // 시꺼먼 레이어 보다 한칸 위에 보이기
                                zIndex: zIndex + 1,

                                // div center 정렬
                                top: '50%',
                                left: '50%',
                                transform: 'translate(-50%, -50%)',
                                msTransform: 'translate(-50%, -50%)',
                                webkitTransform: 'translate(-50%, -50%)'
                            });
                        }

                        // Element 에 style 한번에 오브젝트로 설정하는 함수 추가
                        Element.prototype.setStyle = function (styles) {
                            for (var k in styles)
                                this.style[k] = styles[k];
                            return this;
                        };

                        document
                            .getElementById('popup_open_btn')
                            .addEventListener('click', function () {
                                // 모달창 띄우기
                                modal('my_modal');
                            });

                        // checkbox 중복방지
                        function checkOnlyOne(element) {
                            const checkboxes = document.getElementsByName("song");
                            checkboxes.forEach((cb) => {
                                cb.checked = false;
                            })
                            element.checked = true;
                        }
                    </script>

                    <script src="/assets/js/jquery-3.3.1.min.js"></script>
                    <script src="/assets/js/popper.min.js"></script>
                    <script src="/assets/js/main.js"></script>
                    <script src="/assets/js/jquery.js"></script>
                    <script src="/assets/js/bootstrap.min.js"></script>
                    <script src="/assets/js/mousescroll.js"></script>
                    <script src="/assets/js/smoothscroll.js"></script>
                    <script src="/assets/js/jquery.prettyPhoto.js"></script>
                    <script src="/assets/js/jquery.isotope.min.js"></script>
                    <script src="/assets/js/jquery.inview.min.js"></script>
                    <script src="/assets/js/wow.min.js"></script>
                    <script src="/assets/js/custom-scripts.js"></script>

                </body>
            </html>
{% endblock %}


