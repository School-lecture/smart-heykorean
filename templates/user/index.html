<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

            <!-- Bootstrap CSS -->
            <link rel="stylesheet" href="/assets/css/bootstrap.min.css">

            <!-- Style -->
            <link rel="stylesheet" href="/assets/css/header.css">
            <link rel="stylesheet" href="/assets/css/main.css">
            <link rel=stylesheet href="/assets/css/style.css" media=all>

            <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">
            <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
            <script src="https://kit.fontawesome.com/a062562745.js" crossorigin="anonymous"></script>

            <!-- chart.js-->
            <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>


</head>

<body>
    <header id="header">
        <nav id="main-nav" class="navbar navbar-default navbar-fixed-top" role="banner">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand" href="index.html"><img src="/assets/images/logo.png" alt="logo"></a>
                </div>
                <div class="collapse navbar-collapse navbar-right">
                    <ul class="nav navbar-nav">
                        <li class="scroll active">
                            <a href="#">MYPAGE</a>
                        </li>
                        <li class="scroll active">
                            <a href="/user/logout">LOGOUT</a>
                        </li>
                    </ul>
                </div>
            </div><!--/.container-->
        </nav><!--/nav-->
    </header><!--/header-->


    <div class="wrapper">
        <section id="our-team">
            <div class="section-header">
                <h2 class="section-title wow fadeInDown">
                    노래를 선택하세요
                </h2>
                <P>감정분석이 필요한 노래를 선택해주세요</P>
            </div>

            <div id="my_modal">
                <table class="table custom-table">
                    <thead>
                        <tr>
                            <th scope="col"></th>
                            <th scope="col"></th>
                            <th scope="col">가수</th>
                            <th scope="col">노래</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr scope="row">
                            <th scope="row">
                                <label class="control control--checkbox">
                                    <input type="checkbox" name="song" onclick='checkOnlyOne(this)'/>
                                    <div class="control__indicator"></div>
                                </label>
                            </th>
                            <td>1</td>
                            <td>James Yates</td>
                            <td>
                                Web Designer
                                <small class="d-block">Far far away</small>
                            </td>
                        </tr>

                        <tr class="spacer">
                            <td colspan="100"></td>
                        </tr>
                            <th scope="row">
                                <label class="control control--checkbox">
                                    <input type="checkbox" name="song" onclick='checkOnlyOne(this)'/>
                                    <div class="control__indicator"></div>
                                </label>
                            </th>
                            <td>2</td>
                            <td>Matthew Wasil</td>
                            <td>
                                Graphic Designer
                                <small class="d-block">Far far away</small>
                            </td>

                            <tr class="spacer">
                                <td colspan="100"></td>
                            </tr>
                            <tr>
                                <th scope="row">
                                    <label class="control control--checkbox">
                                        <input type="checkbox" name="song" onclick='checkOnlyOne(this)'/>
                                        <div class="control__indicator"></div>
                                    </label>
                                </th>
                                <td>3</td>
                                <td>Sampson</td>
                                <td>
                                    Mobile Dev
                                    <small class="d-block">Far far away, behind the word mountains</small>
                                </td>
                            </tr>

                        </table>
                        <button type="submit">선택</button>
                        <a class="modal_close_btn">닫기</a>
                    </div>
                    <!-- 모달창 -->

                <!-- 노래매칭 -->
                <div class="matching-song">
                   <table>
                       <tr>
                            <td><img src="/assets/images/IU.jpg" alt="선택한노래" width="300" height="300"></td>
                            <td rowspan="3">
                            <ul>
                                <li><button id="popup_open_btn" type="button">노래선택</button></li>
                                <li><button id="popup_open_btn" type="submit"> 매칭 </button></li>
                                <li><button id="popup_open_btn" type="submit">담기</button></li>
                            </ul>
                            </td>
                             <td><img src="/assets/images/ANN.jpg" alt="결과노래" width="300" height="300"></td>
                       </tr>
                       <tr>
                           <td><font size="5">가수</font></td>
                           <td>가수</td>
                        </tr>
                        <tr>
                            <td>제목</td>
                            <td>제목</td>
                        </tr>
                   </table>
                </div>
            </section>



                    <div class="section-header">
                        <h2 class="section-title wow fadeInDown">감정분석결과</h2>

                          <div class="list-wrapper" id="">
                            <table class="list-wrap">
                                <thead>
                                  <tr class="list-head">
                                    <th class="check">선택</th>
                                    <th class="rank">순위</th>
                                    <th class="title">제목</th>
                                    <th class="singer">가수</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr class="list">
                                    <td class="check"></td>
                                    <td class="rank">1</td>
                                    <td class="title"></td>
                                    <td class="singer"></td>
                                  </tr>
                                  <tr class="list">
                                    <td class="check"></td>
                                    <td class="rank">2</td>
                                    <td class="title"></td>
                                    <td class="singer"></td>
                                  </tr>
                                  <tr class="list">
                                    <td class="check"></td>
                                    <td class="rank">3</td>
                                    <td class="title"></td>
                                    <td class="singer"></td>
                                  </tr>
                                  <tr class="list">
                                    <td class="check"></td>
                                    <td class="rank">4</td>
                                    <td class="title"></td>
                                    <td class="singer"></td>
                                  </tr>
                                  <tr class="list">
                                    <td class="check"></td>
                                    <td class="rank">5</td>
                                    <td class="title"></td>
                                    <td class="singer"></td>
                                  </tr>
                                </tbody>
                            </table>
                          </div>
                    </div>


                    <script>
                        function modal(id) {
                            var zIndex = 9999;
                            var modal = document.getElementById(id);
                            // 모달 div 뒤에 레이어
                            var bg = document.createElement('div');
                            bg.setStyle({
                                position: 'fixed',
                                zIndex: zIndex,
                                left: '0px',
                                top: '0px',
                                width: '100%',
                                height: '100%',
                                overflow: 'auto',
                                // 레이어 색은 여기서 바꾸면 됨
                                backgroundColor: 'rgba(0,0,0,0.4)'
                            });
                            document
                                .body
                                .append(bg);

                            // 닫기 버튼 처리, 레이어와 모달 div 지우기
                            modal
                                .querySelector('.modal_close_btn')
                                .addEventListener('click', function () {
                                    bg.remove();
                                    modal.style.display = 'none';
                                });

                            modal.setStyle({
                                position: 'fixed', display: 'block', boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',

                                // 시꺼먼 레이어 보다 한칸 위에 보이기
                                zIndex: zIndex + 1,

                                // div center 정렬
                                top: '50%',
                                left: '50%',
                                transform: 'translate(-50%, -50%)',
                                msTransform: 'translate(-50%, -50%)',
                                webkitTransform: 'translate(-50%, -50%)'
                            });
                        }

                        // Element 에 style 한번에 오브젝트로 설정하는 함수 추가
                        Element.prototype.setStyle = function (styles) {
                            for (var k in styles)
                                this.style[k] = styles[k];
                            return this;
                        };

                        document
                            .getElementById('popup_open_btn')
                            .addEventListener('click', function () {
                                // 모달창 띄우기
                                modal('my_modal');
                            });

                        // checkbox 중복방지
                        function checkOnlyOne(element) {
                            const checkboxes = document.getElementsByName("song");
                            checkboxes.forEach((cb) => {
                                cb.checked = false;
                            })
                            element.checked = true;
                        }
                    </script>

<script type="text/javascript">
    var context = document
        .getElementById('myChart2')
        .getContext('2d');
    var myChart = new Chart(context, {
        type: 'pie', // 차트의 형태
        data: { // 차트에 들어갈 데이터
            labels: [
                //x 축
                '1','2','3','4','5',
            ],
            datasets: [
                { //데이터
                    label: 'test2', //차트 제목
                    fill: false, // line 형태일 때, 선 안쪽을 채우는지 안채우는지
                    data: [
                        21,19,25,20,23 //x축 label에 대응되는 데이터 값
                    ],
                    backgroundColor: [
                        //색상
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(255, 206, 86, 0.2)',
                        'rgba(75, 192, 192, 0.2)',
                        'rgba(255, 159, 64, 0.2)'
                    ],
                    borderColor: [
                        //경계선 색상
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(255, 159, 64, 1)'
                    ],

                }
            ]
        },
        options: {
            scales: {

                        ticks: {
                            beginAtZero: true
                        }
                    }

            }
        }
    );
</script>
<script src="/assets/js/music.js"></script>

</body>

</html>